<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="../../stylesheets/stylesheet.css" media="screen" />

		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<title>The library of development for editors</title>
		<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1618866-7']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
		</script>
	</head>

	<body>
		<header>
			<div class="inner">
				<h1><a href="//git.editor-s.jp/">editors</a></h1>
				<h2></h2>
				<a href="https://github.com/typista/editors" class="button"><small>View project on</small>GitHub</a>
				<ul id="demo-menu">
					<li><a href="#about" class="on">about</a></li>
					<!--li><a href="#demo">demo</a></li-->
					<li><a href="#usage">usage</a></li>
				</ul>
			</div>
		</header>

		<div id="content-wrapper">
			<div class="inner clearfix">
				<section id="main-content">
					<div id="about" class="content">
						<h2>jquery.storage.js</h2>
						<p>WebStorageをcookieライクに利用可能なjQueryプラグイン。</p>
						<h3>プラグインの説明</h3>
						<p>
							localStorage、sessionStorageを扱うjQueryプラグインを公開します。<br />
							※デフォルトではないsessionStorageは参照のパラメータ指定に不都合があり、まだ使えません。<br />
							　設計(API等)を見直す可能性があります。<br />
							<br />
							配列、JSON形式も保存／参照可能です。<br />
							cookieのようにexpire設定(日数単位)にも対応しています。<br />
							<br />
							ドメインごとに管理されるWebStorageですが、このプラグイン以外でも利用されていることを想定し、その衝突防止の目的で、内部的に扱うkey名には"jquery.storage."のプレフィクスを付けています。<br />
							またWebStorageネイティブのclear()は利用せず、独自にプレフィクスを含むkey名を削除するような極力セーフティな設計＆実装にしています。
						</p>
					</div>
					<!--
					<div id="demo" class="content">
						<h2>デモ</h2>
						<p>
						</p>
					</div>
					-->
					<div id="usage" class="content">
						<h2>使い方</h2>
						<p>
							事前にjQuery(2.0.3で動作確認)を読み込んでください。<br />
						</p>
						<h2>Markup</h2>
						<h3>HTML</h3>
						<pre><code>
&lt;script src="../../external/jquery-2.0.3.min.js"&gt;&lt;/script&gt;
&lt;script src="../../lib/jquery.storage.js"&gt;&lt;/script&gt;
						</code></pre>
						<h3>CODE</h3>
						<pre><code>
var hoge = "hogehoge";
// オプション無しのデフォルトは"local"(localStorage)
$.storage( "hoge", hoge );
alert( $.storage( "hoge" ) );

// expireを指定
$.storage( "hoge", hoge, { expire : 1 } );   


// 配列
var foo = [ "a", "b", "c" ];
$.storage( "foo", foo );
var result = $.storage( "foo" );
for ( var i in result ) {
	alert( result[i] );
}

// JSON
var json = { "A" : 100, "B" : 200, "C" : 300 };
$.storage( "json", json );
var result = $.storage( "json" );
for ( var i in result ) {
	alert( result[i] );
}
						</code></pre>
						<h3>FORMAT</h3>
						<p>
							保存方法<br />
							(通常の変数はもちろん、配列やJSONなどのオブジェクトも保存可能です)
						</p>
						<pre><code>
$.storage( "KEY", OBJECT[,OPTION] );
						</code></pre>
						<p>
							読み出し方法
						</p>
						<pre><code>
$.storage( "KEY" );
						</code></pre>
						<p>
							削除方法
						</p>
						<pre><code>
$.removeStorage( "KEY" );
						</code></pre>
						<p>
							初期化方法
						</p>
						<pre><code>
$.clearStorage();
						</code></pre>
						<p>
							localStorageに保存するキー名は "jquery.storage." というプレフィクスを付与して内部的に処理していますので、初期化についても、このプレフィクス付きのオブジェクトのみ削除しています。<br />
							それは localStorage がドメイン単位(正確には「プロトコル://ドメイン名:ポート番号」の単位)をスコープとするため、WebStorageネイティブの clear() では、別プラグイン等で保存している localStorage も初期化してしまうことによる影響を避ける意図です。<br />
							このプラグインで保存可能な情報のみ初期化できるというものです。
						</p>
						<h3>OPTION</h3>
						<p>
							<table class="option-matrix">
								<thead>
									<tr>
										<th>名前</th><th>デフォルト値</th><th>型</th><th>説明</th>
									</tr>
								</thead>
								<tfoot></tfoot>
								<tbody>
									<tr>
										<td>expire</td><td>undefined</td><td>number</td><td>有効期限(日数)</td>
									</tr>
								</tbody>
							</table>
						</p>
					</div>
				</section>

				<aside id="sidebar">
					<script type="text/javascript"><!--
					google_ad_client = "ca-pub-9711650413771317";
					/* gh-pages-ractangle */
					google_ad_slot = "3704888840";
					google_ad_width = 200;
					google_ad_height = 200;
					//-->
					</script>
					<script type="text/javascript"
					src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
					</script>
					<a href="https://github.com/typista/editors/zipball/master" class="button">
						<small>Download</small>
						.zip file
					</a>
					<a href="https://github.com/typista/editors/tarball/master" class="button">
						<small>Download</small>
						.tar.gz file
					</a>

					<p class="repo-owner"><a href="https://github.com/typista/editors"></a> is maintained by <a href="https://github.com/typista">typista</a>.</p>

					<p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
				</aside>
			</div>
		</div>
		<script src="../../lib/cdnLoader.js"></script>
		<script src="../js/common.js"></script>
	</body>
</html>
